(function($){$.fn.cyswitch=function(options){var defaults={id:"cy_swtich",onLab:"ON",offLab:"OFF",changeEvent:$.noop};var options=$.extend(defaults,options);var id=options.id;$this=$(this);if("checkbox"==$this.attr("type").toLowerCase()){$this.addClass("radio");var html="<div id='"+id+"' class='wrap'><div class='box'>";html+="<span class='swtich_str_on'>"+options.onLab+"</span>";html+="<span class='switch_input' id='ipt'></span>";html+="<span class='swtich_str_off'>"+options.offLab+"</span>";html+="</div></div>";$this.replaceWith(html);$box=$("#"+id).find(".box");$wrap=$box.parent();$this.appendTo($box.find("#ipt"));$checkbox=$box.find("#ipt .radio");if(undefined==$checkbox.attr("checked")){$box.css({"margin-left":"1px"});$wrap.css("background","#ccc")}else{$box.css({"margin-left":"38px"});$wrap.css("background","#A2CD5A")}$checkbox.change(function(){var v=$(this).attr("checked");if(undefined!=v){$box.animate({"margin-left":"38px"},function(){$checkbox.attr("checked","checked");$wrap.css("background","#A2CD5A");if(options.changeEvent){var v=$checkbox.attr("checked");options.changeEvent(v)}})}else{$box.animate({"margin-left":"1px"},function(){$checkbox.removeAttr("checked");$wrap.css("background","#ccc");if(options.changeEvent){var v=$checkbox.attr("checked");options.changeEvent(v)}})}})}}})(jQuery);